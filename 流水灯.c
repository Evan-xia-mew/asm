/*---------------------------------------------------------*/
/************************************************************
用B口作流水灯  MC9S12XS128板
************************************************************/
/*---------------------------------------------------------*/
#include <mc9s12xs128.h>      /* common defines and macros */
 
#define LED PORTB
#define LED_dir DDRB

unsigned char data=0x01;

/*************************************************************/
/*                        延时函数                           */
/*************************************************************/
void delay(void) 
{
  unsigned int i,j;
  for(j=0;j<2;j++)
  for(i=0;i<60000;i++)
  ;
}


/*************************************************************/
/*                          主函数                           */
/*************************************************************/
void main(void) {
	DisableInterrupts;
  LED_dir=0xff;       //设置为输出
  LED=~data;          //点亮LED1
	EnableInterrupts;


  for(;;) 
  {
      delay();
      data=data<<1;         //左移一位
      if(data==0)
          data=0x01;
      LED = ~data;
  } 

}
